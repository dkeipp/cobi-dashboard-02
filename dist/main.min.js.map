{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scr/scripts/dashboard.ts","scr/scripts/main.ts","scr/scripts/modules/core.ts","scr/scripts/modules/view.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","core_1","view_1","Dashboard","stageContainer","stageWidth","stageHeight","this","core","view","prototype","initView","initAverageSpeedView","initAverageCadenceView","initSpeedCheck","initCadenceCheck","updateCurrentSpeedView","speed","updateCurrentCadenceView","cadence","updateAverageSpeedView","initial","getVersion","version","__esModule","dashboard_1","dashboard","window","innerWidth","innerHeight","COBI","init","app","theme","subscribe","value","console","log","rideService","tourService","averageSpeed","cadenceAvailability","Core","localStorageAvailable","maxSpeed","maxSpeedCeiling","maxSpeedCeilingBuffer","averageSpeedMultiplier","maxCadence","maxCadenceCeiling","maxCadenceCeilingBuffer","averageCadence","averageCadenceMultiplier","calculateSpeedBasedRotation","factor","calculateCadenceBasedRotation","setAverageSpeed","round","storeItem","setAverageCadence","getAverageSpeed","localStorage","getItem","getAverageCadence","setMaxSpeed","Math","ceil","getMaxSpeed","getMaxSpeedCeiling","setMaxCadence","getMaxCadence","getMaxCadenceCeiling","decimal","toFixed","key","setItem","View","arcBackgroundColor","arcBackgroundShadowColor","arcForeGroundColor","arcForeGroundShadowColor","arcPointerColor","arcPointerShadowColor","cadenceArcX","cadenceArcY","checkSpeedInterval","checkSpeedIntervalObject","lastSpeedUpdate","averageCadenceInterval","averageCadenceIntervalObject","lastCadenceUpdate","checkCadenceInterval","checkCadenceIntervalObject","speedArcRotation","candenceArcRotation","arcForeGroundShadowBlur","arcPointerShadowBlur","arcWidth","arcOuterRadius","arcInnerRadius","displayMaxSize","bottomWidth","speedArcX","speedArcY","speedDisplayFullX","speedDisplayFullY","speedDisplayFullSize","speedDisplayDecimalX","speedDisplayDecimalY","speedDisplayDecimalSize","speedDisplayMaxX","speedDisplayMaxY","cadenceDisplayX","cadenceDisplayY","cadenceDisplayMaxX","cadenceDisplayMaxY","stage","Konva","Stage","container","width","height","layer","Layer","speedMask","Group","clip","x","y","speedArcBackground","Arc","innerRadius","outerRadius","angle","fill","rotation","speedBottom","Rect","shadowEnabled","shadowBlur","shadowColor","curSpeedArc","averageSpeedArc","opacity","averageCadenceArc","cadenceArcBackground","cadenceBottom","curCadenceArc","cadenceDisplay","Text","text","fontSize","fontFamily","align","speedDisplayFull","speedDisplayDecimal","speedDisplayMax","cadenceDisplayMax","curveWidth","curveRadius","bottomBar","Shape","sceneFunc","context","beginPath","moveTo","quadraticCurveTo","lineTo","closePath","fillStrokeShape","add","document","getElementById","innerHTML","_this","updateAverageCadenceView","setInterval","Date","getTime","speedFull","split","blur","color","tween","Tween","node","easing","Easings","EaseInOut","duration","play","cadenceFull"],"mappings":"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","file":"main.min.js","sourceRoot":"","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Core from './modules/core';\nimport View from './modules/view';\n\n/**\n *\n */\nexport default class Dashboard {\n\n    private static version: string = '0.1.1';\n\n    private core: Core = null;\n    private view: View = null;\n\n    /**\n     *\n     */\n    constructor(stageContainer: string, stageWidth: number, stageHeight: number) {\n        this.core = new Core();\n        this.view = new View(this.core, stageContainer, stageWidth, stageHeight);\n    }\n\n    /**\n     *\n     */\n    initView() {\n        this.view.initView();\n    }\n\n    /**\n     *\n     */\n    initAverageSpeedView() {\n        this.view.initAverageSpeedView();\n    }\n\n    /**\n     *\n     */\n    initAverageCadenceView() {\n        this.view.initAverageCadenceView();\n    }\n\n    /**\n     *\n     */\n    initSpeedCheck() {\n        this.view.initSpeedCheck();\n    }\n\n    /**\n     *\n     */\n    initCadenceCheck() {\n        this.view.initCadenceCheck();\n    }\n\n    /**\n     * @param {number} speed\n     */\n    updateCurrentSpeedView(speed: number) {\n        this.view.updateCurrentSpeedView(speed);\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    updateCurrentCadenceView(cadence: number) {\n        this.view.updateCurrentCadenceView(cadence);\n    }\n\n    /**\n     * @param {number} speed\n     * @param {boolean} initial\n     */\n    updateAverageSpeedView(speed: number, initial: boolean = false) {\n        this.view.updateAverageSpeedView(speed, initial);\n    }\n\n    /**\n     * @returns {string}\n     */\n    static getVersion() {\n        return this.version;\n    }\n}\n","import Dashboard from \"./dashboard\";\n\ndeclare let COBI: any;\n\nlet dashboard = new Dashboard('container', window.innerWidth, window.innerHeight);\n\ndashboard.initView();\n\ndashboard.initAverageSpeedView();\ndashboard.initAverageCadenceView();\n\ndashboard.initSpeedCheck();\ndashboard.initCadenceCheck();\n\nCOBI.init('token — can by anything right now');\n\nCOBI.app.theme.subscribe(\n    function (value) {\n        console.log(value)\n    }\n);\n\nCOBI.rideService.speed.subscribe(\n    function (value) {\n        dashboard.updateCurrentSpeedView(value * 3.6);\n    }\n);\n\nCOBI.tourService.averageSpeed.subscribe(\n    function (value) {\n        dashboard.updateAverageSpeedView(value * 3.6);\n    }\n);\n\nCOBI.rideService.cadenceAvailability.subscribe(\n    function (value) {\n        console.log('cadence available: ' + value);\n    }\n);\n\nCOBI.rideService.cadence.subscribe(\n    function (value) {\n        dashboard.updateCurrentCadenceView(value);\n    }\n);\n","/**\n *\n */\nexport default class Core {\n\n    private localStorageAvailable: boolean = false;\n\n    private maxSpeed: number = 0;\n    private maxSpeedCeiling: number = 20;\n    private maxSpeedCeilingBuffer: number = 5;\n    private averageSpeed: number = 0;\n    private averageSpeedMultiplier: number = 10;\n\n    private maxCadence: number = 0;\n    private maxCadenceCeiling: number = 50;\n    private maxCadenceCeilingBuffer: number = 10;\n    private averageCadence: number = 0;\n    private averageCadenceMultiplier: number = 100;\n\n    /**\n     *\n     */\n    constructor() {\n        this.localStorageAvailable =\n            (\n                typeof(\n                    Storage) !== 'undefined');\n    }\n\n    /**\n     * @param {number} speed\n     * @returns {number}\n     */\n    calculateSpeedBasedRotation(speed: number): number {\n        let factor = (\n            100 / this.maxSpeedCeiling) * speed;\n\n        return ((\n            180 / 100) * factor);\n    }\n\n    /**\n     * @param {number} cadence\n     * @returns {number}\n     */\n    calculateCadenceBasedRotation(cadence: number): number {\n        let factor = (\n            100 / this.maxCadenceCeiling) * cadence;\n\n        return (\n            180 / 100) * factor;\n    }\n\n    /**\n     * @param {number} speed\n     */\n    setAverageSpeed(speed: number) {\n        if (this.averageSpeed === null) {\n            this.averageSpeed = speed;\n        }\n\n        if (speed > 0) {\n            speed =\n                (\n                    (\n                        this.averageSpeed * (\n                        this.averageSpeedMultiplier - 1)) + speed) / this.averageSpeedMultiplier;\n\n            speed = Core.round(speed);\n\n            if (this.averageSpeed !== speed) {\n                this.averageSpeed = speed;\n                this.storeItem('averageSpeed', this.averageSpeed);\n            }\n        }\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    setAverageCadence(cadence: number) {\n        if (this.averageCadence === null) {\n            this.averageCadence = cadence;\n        }\n\n        if (cadence > 0) {\n            cadence =\n                (\n                    (\n                        this.averageCadence * (\n                        this.averageCadenceMultiplier - 1)) + cadence) / this.averageCadenceMultiplier;\n\n            cadence = Core.round(cadence);\n\n            if (this.averageCadence !== cadence) {\n                this.averageCadence = cadence;\n                this.storeItem('averageCadence', this.averageCadence);\n            }\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getAverageSpeed(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('averageSpeed');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.averageSpeed = <number>value;\n            }\n        }\n\n        return this.averageSpeed;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getAverageCadence(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('averageCadence');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.averageCadence = <number>value;\n            }\n        }\n\n        return this.averageCadence;\n    }\n\n    /**\n     * @param {number} speed\n     */\n    setMaxSpeed(speed: number) {\n        if (speed > this.maxSpeedCeiling) {\n            this.maxSpeed = Core.round(speed);\n            this.maxSpeedCeiling = Math.ceil(this.maxSpeed / this.maxSpeedCeilingBuffer) * this.maxSpeedCeilingBuffer;\n\n            if (this.maxSpeed === this.maxSpeedCeiling) {\n                this.maxSpeedCeiling += 5;\n            }\n\n            this.storeItem('maxSpeed', this.maxSpeed);\n            this.storeItem('maxSpeedCeiling', this.maxSpeedCeiling);\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxSpeed(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('maxSpeed');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.maxSpeed = <number>value;\n            }\n        }\n        else {\n            this.maxSpeed = this.getAverageSpeed();\n        }\n\n        return this.maxSpeed;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxSpeedCeiling() {\n        return this.maxSpeedCeiling;\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    setMaxCadence(cadence: number) {\n        if (cadence > this.maxCadenceCeiling) {\n            this.maxCadence = Core.round(cadence);\n            this.maxCadenceCeiling = Math.ceil(this.maxCadence / this.maxCadenceCeilingBuffer) * this.maxCadenceCeilingBuffer;\n\n            if (this.maxCadence === this.maxCadenceCeiling) {\n                this.maxCadenceCeiling += this.maxCadenceCeilingBuffer;\n            }\n\n            this.storeItem('maxCadence', this.maxCadence);\n            this.storeItem('maxCadenceCeiling', this.maxCadenceCeiling);\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxCadence(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('maxCadence');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.maxCadence = <number>value;\n            }\n        }\n        else {\n            this.maxCadence = this.getAverageCadence();\n        }\n\n        return this.maxCadence;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxCadenceCeiling() {\n        return this.maxCadenceCeiling;\n    }\n\n    /**\n     * @param {number} value\n     * @returns {number}\n     */\n    static round(value: number): number {\n        return Math.round(value * 10) / 10;\n    }\n\n\n    /**\n     *\n     * @param {number} value\n     * @returns {string}\n     */\n    static decimal(value: number): string {\n        return value.toFixed(1);\n    }\n\n\n    /**\n     * @param {string} key\n     * @param {number} value\n     */\n    storeItem(key: string, value: any) {\n        if (this.localStorageAvailable === true) {\n            localStorage.setItem(key, value);\n        }\n    }\n}\n","import Core from './core';\nimport Dashboard from '../dashboard';\n\n//import * as Konva from 'konva';\ndeclare let Konva: any;\n\n/**\n *\n */\nexport default class View {\n\n    private core: Core = null;\n\n    private stageWidth: number;\n    private stageHeight: number;\n    private stageContainer: string;\n\n    private arcBackgroundColor: string = '#444353';\n    private arcBackgroundShadowColor: string = '#444353';\n    private arcForeGroundColor: string = '#00C8E6';\n    private arcForeGroundShadowColor: string = '#00C8E6';\n    private arcPointerColor: string = '#FFF';\n    private arcPointerShadowColor: string = '#FFF';\n\n    private cadenceArcX: number = 0;\n    private cadenceArcY: number = 0;\n\n    private checkSpeedInterval: number = 1000;\n    private checkSpeedIntervalObject = null;\n    private lastSpeedUpdate: number = 0;\n\n    private speedArcX: number;\n    private speedArcY: number;\n    private speedDisplayFullX: number;\n    private speedDisplayFullY: number;\n    private speedDisplayDecimalX: number;\n    private speedDisplayDecimalY: number;\n\n    private arcWidth: number;\n    private arcInnerRadius: number;\n\n    private arcOuterRadius: number;\n    private averageCadenceInterval: number = 1000;\n    private averageCadenceIntervalObject = null;\n\n    private lastCadenceUpdate: number = 0;\n    private checkCadenceInterval: number = 1000;\n\n    private checkCadenceIntervalObject = null;\n\n    private stage;\n    private layer;\n    private speedMask;\n    private speedDisplayFull;\n    private speedDisplayDecimal;\n    private speedArcBackground;\n    private curSpeedArc;\n    private averageSpeedArc;\n    private averageCadenceArc;\n    private cadenceArcBackground;\n    private cadenceDisplay;\n    private curCadenceArc;\n    private speedDisplayFullSize: number;\n    private speedDisplayDecimalSize: number;\n\n    private speedArcRotation: number = 270;\n    private candenceArcRotation: number = 90;\n    private cadenceDisplayX: number;\n    private cadenceDisplayY: number;\n    private speedDisplayMax;\n    private speedDisplayMaxX: number;\n    private speedDisplayMaxY: number;\n    private displayMaxSize: number;\n    private cadenceDisplayMax;\n    private cadenceDisplayMaxX: number;\n    private cadenceDisplayMaxY: number;\n    private speedBottom;\n    private bottomWidth: number;\n    private cadenceBottom;\n    private arcForeGroundShadowBlur: number = 10;\n    private arcPointerShadowBlur: number = 10;\n    private bottomBar;\n\n    /**\n     *\n     */\n    constructor(core: Core, stageContainer: string, stageWidth: number, stageHeight: number) {\n        this.core = core;\n\n        this.stageWidth = stageWidth;\n        this.stageHeight = stageHeight;\n        this.stageContainer = stageContainer;\n\n        this.arcWidth = this.stageHeight * 0.05;\n        this.arcOuterRadius = this.stageHeight * 0.9 / 2;\n        this.arcInnerRadius = this.arcOuterRadius - this.arcWidth;\n\n        this.displayMaxSize = this.stageHeight * 0.1;\n\n        this.bottomWidth = this.stageWidth * 0.19;\n\n        this.speedArcX = this.stageWidth - this.arcOuterRadius - (this.stageWidth * 0.02);\n        this.speedArcY = this.stageHeight / 2;\n\n        this.speedDisplayFullX = this.stageWidth * 0.53;\n        this.speedDisplayFullY = this.stageHeight * 0.55;\n        this.speedDisplayFullSize = this.stageHeight * 0.3;\n        this.speedDisplayDecimalX = this.stageWidth * 0.85;\n        this.speedDisplayDecimalY = this.speedDisplayFullY;\n        this.speedDisplayDecimalSize = this.stageHeight * 0.15;\n        this.speedDisplayMaxX = this.speedArcX - (this.stageWidth * 0.12);\n        this.speedDisplayMaxY = this.stageWidth * 0.02;\n\n        this.cadenceDisplayX = this.stageWidth * 0.02;\n        this.cadenceDisplayY = this.stageHeight * 0.55;\n\n        this.cadenceDisplayMaxX = this.cadenceArcX + (this.stageWidth * 0.3);\n        this.cadenceDisplayMaxY = this.stageWidth * 0.02;\n\n        this.cadenceArcX = this.arcOuterRadius + (this.stageWidth * 0.02);\n        this.cadenceArcY = this.stageHeight / 2;\n    }\n\n    /**\n     *\n     */\n    initView() {\n        this.stage =\n            new Konva.Stage(\n                {\n                    container: this.stageContainer,\n                    width: this.stageWidth,\n                    height: this.stageHeight\n                }\n            );\n\n        this.layer = new Konva.Layer();\n\n        this.speedMask =\n            new Konva.Group(\n                {\n\n                    clip: {\n                        x: this.speedArcX,\n                        y: 0,\n                        width: this.stageWidth,\n                        height: this.stageHeight,\n                    }\n\n                }\n            );\n\n        this.speedArcBackground =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcBackgroundColor,\n                    rotation: this.speedArcRotation\n                }\n            );\n\n        this.speedBottom =\n            new Konva.Rect(\n                {\n                    x: this.speedArcX - this.bottomWidth,\n                    y: this.arcOuterRadius * 2,\n                    width: this.bottomWidth,\n                    height: this.arcWidth,\n                    fill: this.arcBackgroundColor,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.curSpeedArc =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcForeGroundShadowColor,\n                    rotation: this.speedArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.averageSpeedArc =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 2,\n                    opacity: 0.9,\n                    fill: this.arcPointerColor,\n                    rotation: this.speedArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcPointerShadowBlur,\n                    shadowColor: this.arcPointerShadowColor\n                }\n            );\n\n        this.averageCadenceArc =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 2,\n                    opacity: 0.9,\n                    fill: this.arcPointerColor,\n                    rotation: this.candenceArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcPointerShadowBlur,\n                    shadowColor: this.arcPointerShadowColor\n                }\n            );\n\n        this.cadenceArcBackground =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcBackgroundColor,\n                    rotation: this.candenceArcRotation\n                }\n            );\n\n        this.cadenceBottom =\n            new Konva.Rect(\n                {\n                    x: this.cadenceArcX,\n                    y: this.arcOuterRadius * 2,\n                    width: this.bottomWidth,\n                    height: this.arcWidth,\n                    fill: this.arcBackgroundColor,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.curCadenceArc =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcForeGroundColor,\n                    rotation: this.candenceArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.cadenceDisplay =\n            new Konva.Text(\n                {\n                    x: this.cadenceDisplayX,\n                    y: this.cadenceDisplayY,\n                    text: '0',\n                    fontSize: this.speedDisplayFullSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    width: this.stageWidth * 0.3,\n                    shadowEnabled: true,\n                    shadowBlur: 5,\n                    shadowColor: '#fff',\n                }\n            );\n\n        this.speedDisplayFull =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayFullX,\n                    y: this.speedDisplayFullY,\n                    text: '0',\n                    fontSize: this.speedDisplayFullSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    width: this.stageWidth * 0.3,\n                    shadowEnabled: true,\n                    shadowBlur: 5,\n                    shadowColor: '#fff',\n                }\n            );\n\n        this.speedDisplayDecimal =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayDecimalX,\n                    y: this.speedDisplayDecimalY,\n                    text: '0',\n                    fontSize: this.speedDisplayDecimalSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    shadowEnabled: true,\n                    shadowBlur: 5,\n                    shadowColor: '#fff',\n                }\n            );\n\n        this.speedDisplayMax =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayMaxX,\n                    y: this.speedDisplayMaxY,\n                    text: '0',\n                    fontSize: this.displayMaxSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    shadowEnabled: true,\n                    shadowBlur: 5,\n                    shadowColor: '#fff',\n                }\n            );\n\n        this.cadenceDisplayMax =\n            new Konva.Text(\n                {\n                    x: this.cadenceDisplayMaxX,\n                    y: this.cadenceDisplayMaxY,\n                    text: '0',\n                    fontSize: this.displayMaxSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    shadowEnabled: true,\n                    shadowBlur: 5,\n                    shadowColor: '#fff',\n                }\n            );\n\n        let width = this.stageWidth * 0.475;\n        let height = this.stageHeight * 0.12;\n        let curveWidth = this.stageHeight * 0.1;\n        let curveRadius = this.stageHeight * 0.05;\n\n        this.bottomBar =\n            new Konva.Shape(\n                {\n                    sceneFunc: function (context) {\n\n                        context.beginPath();\n                        context.moveTo(0, height);\n                        context.quadraticCurveTo(curveWidth - curveRadius, 0, curveWidth, 0);\n                        context.lineTo(width, 0);\n                        context.quadraticCurveTo(width + curveRadius, 0, width + curveWidth, height);\n                        context.lineTo(0, height);\n                        context.closePath();\n                        context.fillStrokeShape(this);\n                    },\n                    fill: '#FFF',\n                    x: (this.stageWidth - (width + curveWidth)) / 2,\n                    y: this.stageHeight - height,\n                }\n            );\n\n        this.layer.add(this.speedArcBackground);\n        this.layer.add(this.speedBottom);\n        this.layer.add(this.cadenceArcBackground);\n        this.layer.add(this.cadenceBottom);\n\n        this.speedMask.add(this.curSpeedArc);\n        this.speedMask.add(this.averageSpeedArc);\n\n        this.layer.add(this.curCadenceArc);\n        this.layer.add(this.averageCadenceArc);\n\n        this.layer.add(this.speedMask);\n        this.layer.add(this.speedDisplayFull);\n        this.layer.add(this.speedDisplayDecimal);\n        this.layer.add(this.speedDisplayMax);\n        this.layer.add(this.cadenceDisplay);\n        this.layer.add(this.cadenceDisplayMax);\n\n        this.layer.add(this.bottomBar);\n\n        this.stage.add(this.layer);\n\n        document.getElementById('version').innerHTML = Dashboard.getVersion();\n    }\n\n    /**\n     *\n     */\n    initAverageSpeedView() {\n        this.core.setMaxSpeed(this.core.getMaxSpeed());\n        this.updateAverageSpeedView(this.core.getAverageSpeed(), true);\n    }\n\n    /**\n     *\n     */\n    initAverageCadenceView() {\n        this.core.setMaxCadence(this.core.getMaxCadence());\n        this.updateAverageCadenceView(this.core.getAverageCadence(), true);\n\n        if (this.averageCadenceIntervalObject === null) {\n            this.averageCadenceIntervalObject =\n                setInterval(() => {\n                    this.updateAverageCadenceView(this.core.getAverageCadence(), false);\n                }, this.averageCadenceInterval);\n        }\n    }\n\n    /**\n     *\n     */\n    initSpeedCheck() {\n        if (this.checkSpeedIntervalObject === null) {\n            this.checkSpeedIntervalObject =\n                setInterval(() => {\n                    if (new Date().getTime() - this.lastSpeedUpdate >\n                        this.checkSpeedInterval) {\n                        this.updateCurrentSpeedView(0);\n                    }\n                }, this.checkSpeedInterval);\n        }\n    }\n\n    /**\n     *\n     */\n    initCadenceCheck() {\n        if (this.checkCadenceIntervalObject === null) {\n            this.checkCadenceIntervalObject =\n                setInterval(() => {\n                    if (new Date().getTime() - this.lastCadenceUpdate >\n                        this.checkCadenceInterval) {\n                        this.updateCurrentCadenceView(0);\n                    }\n                }, this.checkCadenceInterval);\n        }\n    }\n\n    /**\n     * @param {number} speed\n     */\n    updateCurrentSpeedView(speed: number) {\n        this.lastSpeedUpdate = new Date().getTime();\n\n        speed = Core.round(speed);\n\n        let speedFull = Core.decimal(speed).split('.');\n\n        this.speedDisplayFull.text(speedFull[0]);\n        this.speedDisplayDecimal.text(speedFull[1]);\n        this.speedDisplayMax.text(this.core.getMaxSpeed());\n\n        this.core.setMaxSpeed(speed);\n\n        let opacity: number = 1;\n        let blur: number = this.arcForeGroundShadowBlur;\n        let color: string = this.arcBackgroundColor;\n\n        if (speed === 0) {\n            opacity = 0;\n            blur = 0;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.curSpeedArc,\n                    rotation: 360 - this.core.calculateSpeedBasedRotation(speed) + 90,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n\n        if (speed > 0) {\n            color = this.arcForeGroundColor;\n            blur = this.arcForeGroundShadowBlur;\n        }\n\n        tween =\n            new Konva.Tween(\n                {\n                    node: this.speedBottom,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    fill: color,\n                    shadowBlur: blur\n                }\n            );\n\n        tween.play();\n\n        document.getElementById('speed').innerHTML =\n            Core.decimal(speed) +\n            ' > ' +\n            this.core.getAverageSpeed() +\n            ' - (' +\n            this.core.getMaxSpeed() +\n            '/' +\n            this.core.getMaxSpeedCeiling() + ')';\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    updateCurrentCadenceView(cadence: number) {\n        this.lastCadenceUpdate = new Date().getTime();\n\n        cadence = Core.round(cadence);\n\n        this.core.setMaxCadence(cadence);\n        this.core.setAverageCadence(cadence);\n\n        let cadenceFull = Core.decimal(cadence).split('.');\n        this.cadenceDisplay.text(cadenceFull[0]);\n\n        this.cadenceDisplayMax.text(this.core.getMaxCadence());\n\n        let opacity: number = 1;\n        let blur: number = this.arcForeGroundShadowBlur;\n        let color: string = this.arcBackgroundColor;\n\n        if (cadence === 0) {\n            opacity = 0;\n            blur = 0;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.curCadenceArc,\n                    angle: this.core.calculateCadenceBasedRotation(cadence),\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n\n        if (cadence > 0) {\n            color = this.arcForeGroundColor;\n            blur = this.arcForeGroundShadowBlur;\n        }\n\n        tween =\n            new Konva.Tween(\n                {\n                    node: this.cadenceBottom,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    fill: color,\n                    shadowBlur: blur\n                }\n            );\n\n        tween.play();\n\n        document.getElementById('cadence').innerHTML =\n            Core.decimal(cadence) +\n            ' > ' +\n            this.core.getAverageCadence() +\n            ' - (' +\n            this.core.getMaxCadence() +\n            '/' +\n            this.core.getMaxCadenceCeiling() + ')';\n    }\n\n    /**\n     * @param {number} speed\n     * @param {boolean} initial\n     */\n    updateAverageSpeedView(speed: number, initial: boolean = false) {\n        speed = Core.round(speed);\n\n        this.core.setAverageSpeed(speed);\n\n        let duration = 0.5;\n        if (initial === true) {\n            duration = 5;\n        }\n\n        let rotation = 0;\n        if (speed !== 0) {\n            rotation = this.core.calculateSpeedBasedRotation(speed) - this.speedArcRotation;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.averageSpeedArc,\n                    rotation: rotation,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: duration,\n                }\n            );\n\n        tween.play();\n    }\n\n    /**\n     * @param {number} cadence\n     * @param {boolean} initial\n     */\n    updateAverageCadenceView(cadence: number, initial: boolean = false) {\n        cadence = Core.round(cadence);\n\n        this.core.setAverageCadence(cadence);\n\n        let duration = 0.5;\n        if (initial === true) {\n            duration = 5;\n        }\n\n        let rotation = 0;\n        if (cadence !== 0) {\n            rotation = this.core.calculateCadenceBasedRotation(cadence) + 180;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.averageCadenceArc,\n                    rotation: rotation,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: duration,\n                }\n            );\n\n        tween.play();\n    }\n}\n"]}