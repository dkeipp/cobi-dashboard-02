{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scr/scripts/components/core.ts","scr/scripts/components/views/experience.ts","scr/scripts/dashboard.ts","scr/scripts/main.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Core","this","localStorageAvailable","maxSpeed","maxSpeedCeiling","maxSpeedCeilingBuffer","averageSpeed","averageSpeedMultiplier","maxCadence","maxCadenceCeiling","maxCadenceCeilingBuffer","averageCadence","averageCadenceMultiplier","prototype","calculateSpeedBasedRotation","speed","factor","calculateCadenceBasedRotation","cadence","setAverageSpeed","round","storeItem","setAverageCadence","getAverageSpeed","value","localStorage","getItem","getAverageCadence","setMaxSpeed","Math","ceil","getMaxSpeed","getMaxSpeedCeiling","setMaxCadence","getMaxCadence","getMaxCadenceCeiling","decimal","toFixed","key","setItem","__esModule","core_1","ExperienceView","core","stageContainer","stageWidth","stageHeight","arcBackgroundColor","arcBackgroundShadowColor","arcForeGroundColor","arcForeGroundShadowColor","arcPointerColor","arcPointerShadowColor","cadenceArcX","cadenceArcY","checkSpeedInterval","checkSpeedIntervalObject","lastSpeedUpdate","averageCadenceInterval","averageCadenceIntervalObject","lastCadenceUpdate","checkCadenceInterval","checkCadenceIntervalObject","speedArcRotation","candenceArcRotation","displayShadowColor","displayShadowBlur","arcForeGroundShadowBlur","arcPointerShadowBlur","arcPointerOpacity","arcWidth","arcOuterRadius","arcInnerRadius","displayMaxSize","bottomWidth","speedArcX","speedArcY","speedDisplayFullX","speedDisplayFullY","speedDisplayFullSize","speedDisplayDecimalX","speedDisplayDecimalY","speedDisplayDecimalSize","speedDisplayMaxX","speedDisplayMaxY","cadenceDisplayX","cadenceDisplayY","cadenceDisplayMaxX","cadenceDisplayMaxY","initView","stage","Konva","Stage","container","width","height","layer","Layer","speedMask","Group","clip","x","y","speedArcBackground","Arc","innerRadius","outerRadius","angle","fill","rotation","speedBottom","Rect","shadowEnabled","shadowBlur","shadowColor","curSpeedArc","averageSpeedArc","opacity","averageCadenceArc","cadenceArcBackground","cadenceBottom","curCadenceArc","cadenceDisplay","Text","text","fontSize","fontFamily","align","speedDisplayFull","speedDisplayDecimal","speedDisplayMax","cadenceDisplayMax","curveWidth","curveRadius","bottomBar","Shape","sceneFunc","context","beginPath","moveTo","quadraticCurveTo","lineTo","closePath","fillStrokeShape","stageFade","draggable","globalCompositeOperation","add","tween","Tween","node","duration","easing","Easings","EaseIn","onFinish","destroy","play","initAverageSpeedView","updateAverageSpeedView","initAverageCadenceView","_this","updateAverageCadenceView","setInterval","initSpeedCheck","Date","getTime","updateCurrentSpeedView","initCadenceCheck","updateCurrentCadenceView","speedFull","split","blur","color","EaseInOut","cadenceFull","initial","experience_1","Dashboard","experienceView","initExperienceView","document","getElementById","classList","remove","initHomeView","innerHTML","getVersion","version","dashboard_1","dashboard","window","innerWidth","innerHeight","COBI","init","parameters","state","app","theme","subscribe","console","log","rideService","tourService","cadenceAvailability"],"mappings":"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","file":"main.min.js","sourceRoot":"","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n *\n */\nexport default class Core {\n\n    private localStorageAvailable: boolean = false;\n\n    private maxSpeed: number = 0;\n    private maxSpeedCeiling: number = 20;\n    private maxSpeedCeilingBuffer: number = 5;\n    private averageSpeed: number = 0;\n    private averageSpeedMultiplier: number = 10;\n\n    private maxCadence: number = 0;\n    private maxCadenceCeiling: number = 50;\n    private maxCadenceCeilingBuffer: number = 10;\n    private averageCadence: number = 0;\n    private averageCadenceMultiplier: number = 100;\n\n    /**\n     *\n     */\n    constructor() {\n        this.localStorageAvailable =\n            (\n                typeof(\n                    Storage) !== 'undefined');\n    }\n\n    /**\n     * @param {number} speed\n     * @returns {number}\n     */\n    calculateSpeedBasedRotation(speed: number): number {\n        let factor = (\n            100 / this.maxSpeedCeiling) * speed;\n\n        return ((\n            180 / 100) * factor);\n    }\n\n    /**\n     * @param {number} cadence\n     * @returns {number}\n     */\n    calculateCadenceBasedRotation(cadence: number): number {\n        let factor = (\n            100 / this.maxCadenceCeiling) * cadence;\n\n        return (\n            180 / 100) * factor;\n    }\n\n    /**\n     * @param {number} speed\n     */\n    setAverageSpeed(speed: number) {\n        if (this.averageSpeed === null) {\n            this.averageSpeed = speed;\n        }\n\n        if (speed > 0) {\n            this.averageSpeed =\n                Core.round(\n                    (\n                        (\n                            this.averageSpeed * (\n                            this.averageSpeedMultiplier - 1)) + speed) / this.averageSpeedMultiplier\n                );\n\n            this.storeItem('averageSpeed', this.averageSpeed);\n        }\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    setAverageCadence(cadence: number) {\n        if (this.averageCadence === null) {\n            this.averageCadence = cadence;\n        }\n\n        if (cadence > 0) {\n\n            this.averageCadence =\n                Core.round((\n                    (\n                        this.averageCadence * (\n                        this.averageCadenceMultiplier - 1)) + cadence) / this.averageCadenceMultiplier);\n\n            this.storeItem('averageCadence', this.averageCadence);\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getAverageSpeed(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('averageSpeed');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.averageSpeed = <number>value;\n            }\n        }\n\n        return this.averageSpeed;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getAverageCadence(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('averageCadence');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.averageCadence = <number>value;\n            }\n        }\n\n        return this.averageCadence;\n    }\n\n    /**\n     * @param {number} speed\n     */\n    setMaxSpeed(speed: number) {\n        if (speed > this.maxSpeedCeiling) {\n            this.maxSpeed = Core.round(speed);\n            this.maxSpeedCeiling = Math.ceil(this.maxSpeed / this.maxSpeedCeilingBuffer) * this.maxSpeedCeilingBuffer;\n\n            if (this.maxSpeed === this.maxSpeedCeiling) {\n                this.maxSpeedCeiling += 5;\n            }\n\n            this.storeItem('maxSpeed', this.maxSpeed);\n            this.storeItem('maxSpeedCeiling', this.maxSpeedCeiling);\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxSpeed(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('maxSpeed');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.maxSpeed = <number>value;\n            }\n        }\n        else {\n            this.maxSpeed = this.getAverageSpeed();\n        }\n\n        return this.maxSpeed;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxSpeedCeiling() {\n        return this.maxSpeedCeiling;\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    setMaxCadence(cadence: number) {\n        if (cadence > this.maxCadenceCeiling) {\n            this.maxCadence = Core.round(cadence);\n            this.maxCadenceCeiling = Math.ceil(this.maxCadence / this.maxCadenceCeilingBuffer) * this.maxCadenceCeilingBuffer;\n\n            if (this.maxCadence === this.maxCadenceCeiling) {\n                this.maxCadenceCeiling += this.maxCadenceCeilingBuffer;\n            }\n\n            this.storeItem('maxCadence', this.maxCadence);\n            this.storeItem('maxCadenceCeiling', this.maxCadenceCeiling);\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxCadence(): number {\n        if (this.localStorageAvailable === true) {\n            let value = localStorage.getItem('maxCadence');\n\n            if (typeof(\n                    value) !== 'undefined') {\n                this.maxCadence = <number>value;\n            }\n        }\n        else {\n            this.maxCadence = this.getAverageCadence();\n        }\n\n        return this.maxCadence;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getMaxCadenceCeiling() {\n        return this.maxCadenceCeiling;\n    }\n\n    /**\n     * @param {number} value\n     * @returns {number}\n     */\n    static round(value: number): number {\n        return Math.round(value * 10) / 10;\n    }\n\n\n    /**\n     *\n     * @param {number} value\n     * @returns {string}\n     */\n    static decimal(value: number): string {\n        return value.toFixed(1);\n    }\n\n\n    /**\n     * @param {string} key\n     * @param {number} value\n     */\n    storeItem(key: string, value: any) {\n        if (this.localStorageAvailable === true) {\n            localStorage.setItem(key, value);\n        }\n    }\n}\n","import Core from './../core';\n\n//import * as Konva from 'konva';\ndeclare let Konva: any;\n\n/**\n *\n */\nexport default class ExperienceView {\n\n    private core: Core = null;\n\n    private stageWidth: number;\n    private stageHeight: number;\n    private stageContainer: string;\n\n    private arcBackgroundColor: string = '#444353';\n    private arcBackgroundShadowColor: string = '#444353';\n    private arcForeGroundColor: string = '#00C8E6';\n    private arcForeGroundShadowColor: string = '#00C8E6';\n    private arcPointerColor: string = '#FFF';\n    private arcPointerShadowColor: string = '#FFF';\n\n    private cadenceArcX: number = 0;\n    private cadenceArcY: number = 0;\n\n    private checkSpeedInterval: number = 1000;\n    private checkSpeedIntervalObject = null;\n    private lastSpeedUpdate: number = 0;\n\n    private speedArcX: number;\n    private speedArcY: number;\n    private speedDisplayFullX: number;\n    private speedDisplayFullY: number;\n    private speedDisplayDecimalX: number;\n    private speedDisplayDecimalY: number;\n\n    private arcWidth: number;\n    private arcInnerRadius: number;\n\n    private arcOuterRadius: number;\n    private averageCadenceInterval: number = 1000;\n    private averageCadenceIntervalObject = null;\n\n    private lastCadenceUpdate: number = 0;\n    private checkCadenceInterval: number = 1000;\n\n    private checkCadenceIntervalObject = null;\n\n    private stage;\n    private layer;\n    private speedMask;\n    private speedDisplayFull;\n    private speedDisplayDecimal;\n    private speedArcBackground;\n    private curSpeedArc;\n    private averageSpeedArc;\n    private averageCadenceArc;\n    private cadenceArcBackground;\n    private cadenceDisplay;\n    private curCadenceArc;\n    private speedDisplayFullSize: number;\n    private speedDisplayDecimalSize: number;\n\n    private speedArcRotation: number = 270;\n    private candenceArcRotation: number = 90;\n    private cadenceDisplayX: number;\n    private cadenceDisplayY: number;\n    private speedDisplayMax;\n    private speedDisplayMaxX: number;\n    private speedDisplayMaxY: number;\n    private displayMaxSize: number;\n    private displayShadowColor: string = '#00C8E6';\n    private displayShadowBlur: number = 50;\n    private cadenceDisplayMax;\n    private cadenceDisplayMaxX: number;\n    private cadenceDisplayMaxY: number;\n    private speedBottom;\n    private bottomWidth: number;\n    private cadenceBottom;\n    private arcForeGroundShadowBlur: number = 10;\n    private arcPointerShadowBlur: number = 10;\n    private bottomBar;\n    private arcPointerOpacity: number = 0.9;\n\n    /**\n     *\n     */\n    constructor(core: Core, stageContainer: string, stageWidth: number, stageHeight: number) {\n        this.core = core;\n\n        this.stageWidth = stageWidth;\n        this.stageHeight = stageHeight;\n        this.stageContainer = stageContainer;\n\n        this.arcWidth = this.stageHeight * 0.05;\n        this.arcOuterRadius = this.stageHeight * 0.9 / 2;\n        this.arcInnerRadius = this.arcOuterRadius - this.arcWidth;\n\n        this.displayMaxSize = this.stageHeight * 0.1;\n\n        this.bottomWidth = this.stageWidth * 0.19;\n\n        this.speedArcX = this.stageWidth - this.arcOuterRadius - (this.stageWidth * 0.02);\n        this.speedArcY = this.stageHeight / 2;\n\n        this.speedDisplayFullX = this.stageWidth * 0.53;\n        this.speedDisplayFullY = this.stageHeight * 0.55;\n        this.speedDisplayFullSize = this.stageHeight * 0.3;\n        this.speedDisplayDecimalX = this.stageWidth * 0.85;\n        this.speedDisplayDecimalY = this.speedDisplayFullY;\n        this.speedDisplayDecimalSize = this.stageHeight * 0.15;\n        this.speedDisplayMaxX = this.speedArcX - (this.stageWidth * 0.12);\n        this.speedDisplayMaxY = this.stageWidth * 0.02;\n\n        this.cadenceDisplayX = 0;\n        this.cadenceDisplayY = this.stageHeight * 0.55;\n\n        this.cadenceDisplayMaxX = this.cadenceArcX + (this.stageWidth * 0.3);\n        this.cadenceDisplayMaxY = this.stageWidth * 0.02;\n\n        this.cadenceArcX = this.arcOuterRadius + (this.stageWidth * 0.02);\n        this.cadenceArcY = this.stageHeight / 2;\n    }\n\n    /**\n     *\n     */\n    initView() {\n        this.stage =\n            new Konva.Stage(\n                {\n                    container: this.stageContainer,\n                    width: this.stageWidth,\n                    height: this.stageHeight,\n                }\n            );\n\n        this.layer = new Konva.Layer();\n\n        this.speedMask =\n            new Konva.Group(\n                {\n                    clip: {\n                        x: this.speedArcX,\n                        y: 0,\n                        width: this.stageWidth,\n                        height: this.stageHeight,\n                    }\n\n                }\n            );\n\n        this.speedArcBackground =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcBackgroundColor,\n                    rotation: this.speedArcRotation\n                }\n            );\n\n        this.speedBottom =\n            new Konva.Rect(\n                {\n                    x: this.speedArcX - this.bottomWidth,\n                    y: this.arcOuterRadius * 2,\n                    width: this.bottomWidth,\n                    height: this.arcWidth,\n                    fill: this.arcBackgroundColor,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.curSpeedArc =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcForeGroundShadowColor,\n                    rotation: this.speedArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.averageSpeedArc =\n            new Konva.Arc(\n                {\n                    x: this.speedArcX,\n                    y: this.speedArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 2,\n                    opacity: 0,\n                    fill: this.arcPointerColor,\n                    rotation: this.speedArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcPointerShadowBlur,\n                    shadowColor: this.arcPointerShadowColor\n                }\n            );\n\n        this.averageCadenceArc =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 2,\n                    opacity: 0,\n                    fill: this.arcPointerColor,\n                    rotation: this.candenceArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcPointerShadowBlur,\n                    shadowColor: this.arcPointerShadowColor\n                }\n            );\n\n        this.cadenceArcBackground =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcBackgroundColor,\n                    rotation: this.candenceArcRotation\n                }\n            );\n\n        this.cadenceBottom =\n            new Konva.Rect(\n                {\n                    x: this.cadenceArcX,\n                    y: this.arcOuterRadius * 2,\n                    width: this.bottomWidth,\n                    height: this.arcWidth,\n                    fill: this.arcBackgroundColor,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.curCadenceArc =\n            new Konva.Arc(\n                {\n                    x: this.cadenceArcX,\n                    y: this.cadenceArcY,\n                    innerRadius: this.arcInnerRadius,\n                    outerRadius: this.arcOuterRadius,\n                    angle: 180,\n                    fill: this.arcForeGroundColor,\n                    rotation: this.candenceArcRotation,\n                    shadowEnabled: true,\n                    shadowBlur: this.arcForeGroundShadowBlur,\n                    shadowColor: this.arcForeGroundShadowColor\n                }\n            );\n\n        this.cadenceDisplay =\n            new Konva.Text(\n                {\n                    x: this.cadenceDisplayX,\n                    y: this.cadenceDisplayY,\n                    text: '0',\n                    fontSize: this.speedDisplayFullSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    width: this.stageWidth * 0.35,\n                    shadowEnabled: true,\n                    shadowBlur: this.displayShadowBlur,\n                    shadowColor: this.displayShadowColor,\n                }\n            );\n\n        this.speedDisplayFull =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayFullX,\n                    y: this.speedDisplayFullY,\n                    text: '0',\n                    fontSize: this.speedDisplayFullSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    width: this.stageWidth * 0.3,\n                    shadowEnabled: true,\n                    shadowBlur: this.displayShadowBlur,\n                    shadowColor: this.displayShadowColor,\n                }\n            );\n\n        this.speedDisplayDecimal =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayDecimalX,\n                    y: this.speedDisplayDecimalY,\n                    text: '0',\n                    fontSize: this.speedDisplayDecimalSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    shadowEnabled: true,\n                    shadowBlur: this.displayShadowBlur,\n                    shadowColor: this.displayShadowColor,\n                }\n            );\n\n        this.speedDisplayMax =\n            new Konva.Text(\n                {\n                    x: this.speedDisplayMaxX,\n                    y: this.speedDisplayMaxY,\n                    text: '0',\n                    fontSize: this.displayMaxSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    shadowEnabled: true,\n                    shadowBlur: this.displayShadowBlur,\n                    shadowColor: this.displayShadowColor,\n                }\n            );\n\n        this.cadenceDisplayMax =\n            new Konva.Text(\n                {\n                    x: this.cadenceDisplayMaxX,\n                    y: this.cadenceDisplayMaxY,\n                    text: '0',\n                    fontSize: this.displayMaxSize,\n                    fontFamily: 'UniSans',\n                    fill: '#fff',\n                    align: 'right',\n                    shadowEnabled: true,\n                    shadowBlur: this.displayShadowBlur,\n                    shadowColor: this.displayShadowColor,\n                }\n            );\n\n        let width = this.stageWidth * 0.475;\n        let height = this.stageHeight * 0.12;\n        let curveWidth = this.stageHeight * 0.1;\n        let curveRadius = this.stageHeight * 0.05;\n\n        this.bottomBar =\n            new Konva.Shape(\n                {\n                    sceneFunc: function (context) {\n\n                        context.beginPath();\n                        context.moveTo(0, height);\n                        context.quadraticCurveTo(curveWidth - curveRadius, 0, curveWidth, 0);\n                        context.lineTo(width, 0);\n                        context.quadraticCurveTo(width + curveRadius, 0, width + curveWidth, height);\n                        context.lineTo(0, height);\n                        context.closePath();\n                        context.fillStrokeShape(this);\n                    },\n                    fill: '#FFF',\n                    x: (this.stageWidth - (width + curveWidth)) / 2,\n                    y: this.stageHeight - height,\n                }\n            );\n\n        let stageFade = new Konva.Rect(\n            {\n                x: 0,\n                y: 0,\n                // stroke: 'red',\n                width: this.stageWidth,\n                height: this.stageHeight,\n                fill: '#1d1d23',\n                draggable: true,\n                globalCompositeOperation: 'multiply'\n            }\n        );\n\n        this.layer.add(this.speedArcBackground);\n        this.layer.add(this.speedBottom);\n\n        this.layer.add(this.cadenceArcBackground);\n        this.layer.add(this.cadenceBottom);\n\n        this.speedMask.add(this.curSpeedArc);\n        this.speedMask.add(this.averageSpeedArc);\n\n        this.layer.add(this.curCadenceArc);\n        this.layer.add(this.averageCadenceArc);\n\n        this.layer.add(this.speedMask);\n        this.layer.add(this.speedDisplayFull);\n        this.layer.add(this.speedDisplayDecimal);\n        this.layer.add(this.speedDisplayMax);\n\n        this.layer.add(this.cadenceDisplay);\n        this.layer.add(this.cadenceDisplayMax);\n\n        this.layer.add(this.bottomBar);\n\n        this.layer.add(stageFade);\n\n        this.stage.add(this.layer);\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: stageFade,\n                    opacity: 0,\n                    duration: 2,\n                    easing: Konva.Easings.EaseIn,\n                    onFinish: function () {\n                        stageFade.destroy();\n                    }\n                }\n            );\n\n        tween.play();\n    }\n\n    /**\n     *\n     */\n    initAverageSpeedView() {\n        this.core.setMaxSpeed(this.core.getMaxSpeed());\n        this.updateAverageSpeedView(this.core.getAverageSpeed(), true);\n    }\n\n    /**\n     *\n     */\n    initAverageCadenceView() {\n        this.core.setMaxCadence(this.core.getMaxCadence());\n        this.updateAverageCadenceView(this.core.getAverageCadence(), true);\n\n        if (this.averageCadenceIntervalObject === null) {\n            this.averageCadenceIntervalObject =\n                setInterval(() => {\n                    this.updateAverageCadenceView(this.core.getAverageCadence(), false);\n                }, this.averageCadenceInterval);\n        }\n    }\n\n    /**\n     *\n     */\n    initSpeedCheck() {\n        if (this.checkSpeedIntervalObject === null) {\n            this.checkSpeedIntervalObject =\n                setInterval(() => {\n                    if (new Date().getTime() - this.lastSpeedUpdate >\n                        this.checkSpeedInterval) {\n                        this.updateCurrentSpeedView(0);\n                    }\n                }, this.checkSpeedInterval);\n        }\n    }\n\n    /**\n     *\n     */\n    initCadenceCheck() {\n        if (this.checkCadenceIntervalObject === null) {\n            this.checkCadenceIntervalObject =\n                setInterval(() => {\n                    if (new Date().getTime() - this.lastCadenceUpdate >\n                        this.checkCadenceInterval) {\n                        this.updateCurrentCadenceView(0);\n                    }\n                }, this.checkCadenceInterval);\n        }\n    }\n\n    /**\n     * @param {number} speed\n     */\n    updateCurrentSpeedView(speed: number) {\n        this.lastSpeedUpdate = new Date().getTime();\n\n        speed = Core.round(speed);\n\n        let speedFull = Core.decimal(speed).split('.');\n\n        this.speedDisplayFull.text(speedFull[0]);\n        this.speedDisplayDecimal.text(speedFull[1]);\n        this.speedDisplayMax.text(this.core.getMaxSpeed());\n\n        this.core.setMaxSpeed(speed);\n\n        let opacity: number = 1;\n        let blur: number = this.arcForeGroundShadowBlur;\n        let color: string = this.arcBackgroundColor;\n\n        if (speed === 0) {\n            opacity = 0;\n            blur = 0;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.curSpeedArc,\n                    rotation: 360 - this.core.calculateSpeedBasedRotation(speed) + 90,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n\n        if (speed > 0) {\n            color = this.arcForeGroundColor;\n            blur = this.arcForeGroundShadowBlur;\n        }\n\n        tween =\n            new Konva.Tween(\n                {\n                    node: this.speedBottom,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    fill: color,\n                    shadowBlur: blur\n                }\n            );\n\n        tween.play();\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    updateCurrentCadenceView(cadence: number) {\n        this.lastCadenceUpdate = new Date().getTime();\n\n        cadence = Core.round(cadence);\n\n        this.core.setMaxCadence(cadence);\n        this.core.setAverageCadence(cadence);\n\n        let cadenceFull = Core.decimal(cadence).split('.');\n        this.cadenceDisplay.text(cadenceFull[0]);\n\n        this.cadenceDisplayMax.text(this.core.getMaxCadence());\n\n        let opacity: number = 1;\n        let blur: number = this.arcForeGroundShadowBlur;\n        let color: string = this.arcBackgroundColor;\n\n        if (cadence === 0) {\n            opacity = 0;\n            blur = 0;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.curCadenceArc,\n                    angle: this.core.calculateCadenceBasedRotation(cadence),\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n\n        if (cadence > 0) {\n            color = this.arcForeGroundColor;\n            blur = this.arcForeGroundShadowBlur;\n        }\n\n        tween =\n            new Konva.Tween(\n                {\n                    node: this.cadenceBottom,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: 0.5,\n                    fill: color,\n                    shadowBlur: blur\n                }\n            );\n\n        tween.play();\n    }\n\n    /**\n     * @param {number} speed\n     * @param {boolean} initial\n     */\n    updateAverageSpeedView(speed: number, initial: boolean = false) {\n\n        let opacity: number = this.arcPointerOpacity;\n        if (speed === null) {\n            opacity = 0;\n        }\n\n        speed = Core.round(speed);\n\n        this.core.setAverageSpeed(speed);\n\n        let duration = 0.5;\n        if (initial === true) {\n            duration = 5;\n        }\n\n        let rotation = 0;\n        if (speed !== 0) {\n            rotation = 360 - (this.core.calculateSpeedBasedRotation(speed) + this.speedArcRotation);\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.averageSpeedArc,\n                    rotation: rotation,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: duration,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n    }\n\n    /**\n     * @param {number} cadence\n     * @param {boolean} initial\n     */\n    updateAverageCadenceView(cadence: number, initial: boolean = false) {\n\n        let opacity: number = this.arcPointerOpacity;\n        if (cadence === null) {\n            opacity = 0;\n        }\n\n        cadence = Core.round(cadence);\n\n        this.core.setAverageCadence(cadence);\n\n        let duration = 0.5;\n        if (initial === true) {\n            duration = 5;\n        }\n\n        let rotation = 0;\n        if (cadence !== 0) {\n            rotation = this.core.calculateCadenceBasedRotation(cadence) + this.candenceArcRotation;\n        }\n\n        let tween =\n            new Konva.Tween(\n                {\n                    node: this.averageCadenceArc,\n                    rotation: rotation,\n                    easing: Konva.Easings.EaseInOut,\n                    duration: duration,\n                    opacity: opacity\n                }\n            );\n\n        tween.play();\n    }\n}\n","import Core from './components/core';\nimport ExperienceView from './components/views/experience';\n\n/**\n *\n */\nexport default class Dashboard {\n\n    private static version: string = '0.2.0';\n\n    private stageContainer: string;\n    private stageWidth: number;\n    private stageHeight: number;\n\n    private core: Core = null;\n    private experienceView: ExperienceView = null;\n\n    /**\n     *\n     */\n    constructor(stageContainer: string, stageWidth: number, stageHeight: number) {\n        this.core = new Core();\n\n        this.stageContainer = stageContainer;\n        this.stageWidth = stageWidth;\n        this.stageHeight = stageHeight;\n    }\n\n    /**\n     *\n     */\n    initExperienceView() {\n\n        document.getElementById(this.stageContainer).classList.remove('hidden');\n\n        this.experienceView =\n            new ExperienceView(\n                this.core,\n                this.stageContainer,\n                this.stageWidth,\n                this.stageHeight\n            );\n\n        this.experienceView.initView();\n        this.experienceView.initAverageSpeedView();\n        this.experienceView.initAverageCadenceView();\n        this.experienceView.initSpeedCheck();\n        this.experienceView.initCadenceCheck();\n    }\n\n    /**\n     *\n     */\n    initHomeView() {\n\n        document.getElementById('home').classList.remove('hidden');\n\n        document.getElementById('max-speed').innerHTML =\n            this.core.getMaxSpeed() + ' km/h';\n\n        document.getElementById('avr-speed').innerHTML =\n            this.core.getAverageSpeed() + ' km/h';\n\n    }\n\n    /**\n     * @param {number} speed\n     */\n    updateCurrentSpeedView(speed: number) {\n        this.experienceView.updateCurrentSpeedView(speed);\n    }\n\n    /**\n     * @param {number} cadence\n     */\n    updateCurrentCadenceView(cadence: number) {\n        this.experienceView.updateCurrentCadenceView(cadence);\n    }\n\n    /**\n     * @param {number} speed\n     * @param {boolean} initial\n     */\n    updateAverageSpeedView(speed: number, initial: boolean = false) {\n        this.experienceView.updateAverageSpeedView(speed, initial);\n    }\n\n    /**\n     * @returns {string}\n     */\n    static getVersion() {\n        return this.version;\n    }\n}\n","import Dashboard from \"./dashboard\";\n\ndeclare let COBI: any;\n\nlet dashboard = new Dashboard('experience', window.innerWidth, window.innerHeight);\n\nCOBI.init('token — can by anything right now');\n\nif (COBI.parameters.state() === 'experience') {\n\n    dashboard.initExperienceView();\n\n    COBI.app.theme.subscribe(\n        function (value) {\n            console.log(value)\n        }\n    );\n\n    COBI.rideService.speed.subscribe(\n        function (value) {\n            dashboard.updateCurrentSpeedView(value * 3.6);\n        }\n    );\n\n    COBI.tourService.averageSpeed.subscribe(\n        function (value) {\n            dashboard.updateAverageSpeedView(value * 3.6);\n        }\n    );\n\n    COBI.rideService.cadenceAvailability.subscribe(\n        function (value) {\n            console.log('cadence available: ' + value);\n        }\n    );\n\n    COBI.rideService.cadence.subscribe(\n        function (value) {\n            dashboard.updateCurrentCadenceView(value);\n        }\n    );\n}\nelse {\n    dashboard.initHomeView();\n}\n\ndocument.getElementById('version').innerHTML = Dashboard.getVersion();\n"]}